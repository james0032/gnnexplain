<svg viewBox="0 0 800 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    DistMult Link Prediction
  </text>
  
  <!-- Knowledge Graph Example at top -->
  <g id="kg-example">
    <text x="400" y="60" font-size="14" text-anchor="middle" fill="#555">Knowledge Graph Triple</text>
    
    <!-- Head Entity -->
    <circle cx="150" cy="100" r="35" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <text x="150" y="105" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Einstein</text>
    
    <!-- Relation -->
    <rect x="280" y="80" width="120" height="40" rx="5" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
    <text x="340" y="105" font-size="12" font-weight="bold" text-anchor="middle" fill="white">profession</text>
    
    <!-- Tail Entity -->
    <circle cx="550" cy="100" r="35" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
    <text x="550" y="105" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Physicist</text>
    
    <!-- Arrows -->
    <path d="M 185 100 L 275 100" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <path d="M 405 100 L 510 100" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- Embedding Layer -->
  <g id="embeddings">
    <text x="400" y="170" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Embedding Vectors
    </text>
    
    <!-- Head embedding -->
    <rect x="70" y="190" width="160" height="80" rx="8" fill="#ecf0f1" stroke="#3498db" stroke-width="2"/>
    <text x="150" y="210" font-size="11" font-weight="bold" text-anchor="middle" fill="#2c3e50">h (head)</text>
    <text x="150" y="230" font-size="10" font-family="monospace" text-anchor="middle" fill="#555">[0.8, 0.3, 0.5,</text>
    <text x="150" y="245" font-size="10" font-family="monospace" text-anchor="middle" fill="#555"> 0.2, 0.9, ...]</text>
    <text x="150" y="263" font-size="9" text-anchor="middle" fill="#7f8c8d">d-dimensional</text>
    
    <!-- Relation embedding -->
    <rect x="320" y="190" width="160" height="80" rx="8" fill="#ecf0f1" stroke="#e74c3c" stroke-width="2"/>
    <text x="400" y="210" font-size="11" font-weight="bold" text-anchor="middle" fill="#2c3e50">r (relation)</text>
    <text x="400" y="230" font-size="10" font-family="monospace" text-anchor="middle" fill="#555">[0.9, 0.7, 0.4,</text>
    <text x="400" y="245" font-size="10" font-family="monospace" text-anchor="middle" fill="#555"> 0.6, 0.3, ...]</text>
    <text x="400" y="263" font-size="9" text-anchor="middle" fill="#7f8c8d">d-dimensional</text>
    
    <!-- Tail embedding -->
    <rect x="570" y="190" width="160" height="80" rx="8" fill="#ecf0f1" stroke="#2ecc71" stroke-width="2"/>
    <text x="650" y="210" font-size="11" font-weight="bold" text-anchor="middle" fill="#2c3e50">t (tail)</text>
    <text x="650" y="230" font-size="10" font-family="monospace" text-anchor="middle" fill="#555">[0.9, 0.2, 0.6,</text>
    <text x="650" y="245" font-size="10" font-family="monospace" text-anchor="middle" fill="#555"> 0.1, 0.8, ...]</text>
    <text x="650" y="263" font-size="9" text-anchor="middle" fill="#7f8c8d">d-dimensional</text>
  </g>
  
  <!-- Diagonal Matrix Conversion -->
  <g id="diagonal-conversion">
    <text x="400" y="310" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Relation Vector → Diagonal Matrix
    </text>
    
    <!-- Relation vector -->
    <rect x="120" y="325" width="140" height="85" rx="8" fill="#ffe6e6" stroke="#e74c3c" stroke-width="2"/>
    <text x="190" y="345" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">r (vector)</text>
    <text x="190" y="365" font-size="11" font-family="monospace" text-anchor="middle" fill="#555">[r₁]</text>
    <text x="190" y="380" font-size="11" font-family="monospace" text-anchor="middle" fill="#555">[r₂]</text>
    <text x="190" y="395" font-size="11" font-family="monospace" text-anchor="middle" fill="#555">[r₃]</text>
    
    <!-- Arrow -->
    <path d="M 265 367 L 315 367" stroke="#e74c3c" stroke-width="2.5" fill="none" marker-end="url(#arrowhead-red)"/>
    <text x="290" y="362" font-size="11" font-weight="bold" text-anchor="middle" fill="#e74c3c">diag()</text>
    
    <!-- Diagonal matrix -->
    <g transform="translate(320, 325)">
      <rect x="0" y="0" width="190" height="85" rx="8" fill="#fff0f0" stroke="#e74c3c" stroke-width="2"/>
      <text x="95" y="20" font-size="12" font-weight="bold" text-anchor="middle" fill="#2c3e50">diag(r) matrix</text>
      
      <!-- Matrix brackets -->
      <text x="15" y="42" font-size="20" font-family="monospace" fill="#555">[</text>
      <text x="175" y="42" font-size="20" font-family="monospace" fill="#555">]</text>
      <text x="15" y="57" font-size="20" font-family="monospace" fill="#555">[</text>
      <text x="175" y="57" font-size="20" font-family="monospace" fill="#555">]</text>
      <text x="15" y="72" font-size="20" font-family="monospace" fill="#555">[</text>
      <text x="175" y="72" font-size="20" font-family="monospace" fill="#555">]</text>
      
      <!-- Matrix elements with colors -->
      <text x="50" y="45" font-size="11" font-family="monospace" fill="#e74c3c" font-weight="bold">r₁</text>
      <text x="85" y="45" font-size="11" font-family="monospace" fill="#bbb">0</text>
      <text x="120" y="45" font-size="11" font-family="monospace" fill="#bbb">0</text>
      
      <text x="50" y="60" font-size="11" font-family="monospace" fill="#bbb">0</text>
      <text x="85" y="60" font-size="11" font-family="monospace" fill="#e74c3c" font-weight="bold">r₂</text>
      <text x="120" y="60" font-size="11" font-family="monospace" fill="#bbb">0</text>
      
      <text x="50" y="75" font-size="11" font-family="monospace" fill="#bbb">0</text>
      <text x="85" y="75" font-size="11" font-family="monospace" fill="#bbb">0</text>
      <text x="120" y="75" font-size="11" font-family="monospace" fill="#e74c3c" font-weight="bold">r₃</text>
    </g>
    
    <!-- Arrow pointing to matrix multiplication -->
    <path d="M 415 415 L 415 440" stroke="#95a5a6" stroke-width="1.5" stroke-dasharray="3,3" fill="none"/>
  </g>
  
  <!-- Element-wise multiplication -->
  <g id="multiplication">
    <text x="400" y="460" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Matrix Multiplication
    </text>
    
    <rect x="200" y="475" width="400" height="85" rx="8" fill="#fff5e6" stroke="#f39c12" stroke-width="2"/>
    
    <text x="400" y="495" font-size="12" font-family="monospace" text-anchor="middle" fill="#2c3e50">
      score = h<tspan baseline-shift="super" font-size="9">T</tspan> · diag(r) · t
    </text>
    
    <!-- Visual matrix multiplication -->
    <text x="400" y="515" font-size="10" font-family="monospace" text-anchor="middle" fill="#555">
      = [h₁ h₂ h₃] · [r₁ 0  0 ] · [t₁]
    </text>
    <text x="400" y="530" font-size="10" font-family="monospace" text-anchor="middle" fill="#555">
                      [0  r₂ 0 ]   [t₂]
    </text>
    <text x="400" y="545" font-size="10" font-family="monospace" text-anchor="middle" fill="#555">
                      [0  0  r₃]   [t₃]
    </text>
    
    <!-- Arrows pointing to multiplication box -->
    <path d="M 150 275 L 150 450 L 200 480" stroke="#95a5a6" stroke-width="1.5" stroke-dasharray="3,3" fill="none"/>
    <path d="M 650 275 L 650 450 L 600 480" stroke="#95a5a6" stroke-width="1.5" stroke-dasharray="3,3" fill="none"/>
  </g>
  
  <!-- Final Result -->
  <g id="output">
    <path d="M 400 565 L 400 595" stroke="#34495e" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    
    <rect x="250" y="600" width="300" height="70" rx="8" fill="#e8f5e9" stroke="#27ae60" stroke-width="2"/>
    <text x="400" y="620" font-size="13" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Equivalent Element-wise:
    </text>
    <text x="400" y="640" font-size="11" font-family="monospace" text-anchor="middle" fill="#555">
      score = Σ (hᵢ · rᵢ · tᵢ) = h₁r₁t₁ + h₂r₂t₂ + h₃r₃t₃
    </text>
    <text x="400" y="660" font-size="10" text-anchor="middle" fill="#27ae60">
      Example: (0.8·0.9·0.9) + (0.3·0.7·0.2) + (0.5·0.4·0.6) = 0.810 ✓
    </text>
  </g>
  
  <!-- Arrow marker definitions -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#34495e"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#e74c3c"/>
    </marker>
  </defs>
</svg>